<!DOCTYPE HTML>
<html lang="es">
<head>
  <title>Dibujo de Bigotes Ajustables</title>  
  <meta charset="UTF-8">
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
  <script type="text/javascript">
    var lienzo;
    var bigotes = [
    //lineas de todo el contorno del mapa
      { x: 85, y: 457, angulo: Math.PI /2.7, largo: 62, grosor: 2 },
      { x: 118, y: 497, angulo: Math.PI /6, largo: 49, grosor: 2 },
      { x: 175, y: 510, angulo: Math.PI / 80, largo: 72, grosor: 2 },
      { x: 215, y: 521, angulo: Math.PI / 2.6, largo: 23, grosor: 2 },
      { x: 245, y: 535, angulo: Math.PI / 20, largo: 52,grosor: 2 },
      { x: 278, y: 531, angulo: Math.PI /1.4, largo: 21,grosor: 2 },
      { x: 290, y: 518, angulo: Math.PI /1.3, largo: 15,grosor: 2 },
      { x: 315, y: 515, angulo: Math.PI /30, largo: 40,grosor: 2 },
      { x: 69, y: 425, angulo: Math.PI /5, largo: 10,grosor: 2 },
      { x: 65, y: 418, angulo: Math.PI /2, largo: 10,grosor: 2 },
      { x: 55, y: 410, angulo: Math.PI /8, largo: 25,grosor: 2 },
      { x: 45, y: 398, angulo: Math.PI /0.63, largo: 18,grosor: 2 },
      { x: 36, y: 387, angulo: Math.PI /10, largo: 20,grosor: 2 },
      { x: 33, y: 376, angulo: Math.PI /1.4, largo: 20,grosor: 2 },
      { x: 36, y: 366, angulo: Math.PI /4, largo: 10,grosor: 2 },
      { x: 43, y: 351, angulo: Math.PI /1.4, largo: 30,grosor: 2 },
      { x: 53, y: 334, angulo: Math.PI /2, largo: 10,grosor: 2 },
      { x: 64, y: 320, angulo: Math.PI /1.3, largo: 30,grosor: 2 },
      { x: 76, y: 316, angulo: Math.PI /2.5, largo: 10,grosor: 2 },
      { x: 107, y: 295, angulo: Math.PI /1.3, largo: 80,grosor: 2 },
      { x: 143, y: 258, angulo: Math.PI /1.5, largo: 25,grosor: 2 },
      { x: 143, y: 246, angulo: Math.PI /20, largo: 10,grosor: 2 },
      { x: 143, y: 230, angulo: Math.PI /1.7, largo: 30,grosor: 2 },
      { x: 167, y: 220, angulo: Math.PI /18, largo: 40,grosor: 2 },
      { x: 185, y: 218, angulo: Math.PI /2.5, largo: 10,grosor: 2 },
      { x: 179, y: 211, angulo: Math.PI /9, largo: 10,grosor: 2 },
      { x: 175, y: 206, angulo: Math.PI /1.7, largo: 6,grosor: 2 },
      { x: 180, y: 204, angulo: Math.PI /15, largo: 10,grosor: 2 },
      { x: 188, y: 198, angulo: Math.PI /1.5, largo: 15,grosor: 2 },
      { x: 188, y: 191, angulo: Math.PI /8, largo: 10,grosor: 2 },
      { x: 198, y: 171, angulo: Math.PI /1.4, largo: 45,grosor: 2 },
      { x: 219, y: 167, angulo: Math.PI /3, largo: 30,grosor: 2 },
      { x: 217, y: 190, angulo: Math.PI /1.4, largo: 25,grosor: 2 },
      { x: 209, y: 204, angulo: Math.PI /2, largo: 10,grosor: 2 },
      { x: 216, y: 213, angulo: Math.PI /5, largo: 15,grosor: 2 },
      { x: 229, y: 217, angulo: Math.PI /1, largo: 14,grosor: 2 },
      { x: 248, y: 222, angulo: Math.PI /8, largo: 26,grosor: 2 },
      { x: 268, y: 249, angulo: Math.PI /2.6, largo: 50,grosor: 2 },
      { x: 272, y: 282, angulo: Math.PI /1.6, largo: 25,grosor: 2 },
      { x: 295, y: 304, angulo: Math.PI /9, largo: 60,grosor: 2 },
      { x: 322, y: 320, angulo: Math.PI /2, largo: 12,grosor: 2 },
      { x: 336, y: 334, angulo: Math.PI /5, largo: 35,grosor: 2 },
      { x: 343, y: 370, angulo: Math.PI /1.7, largo: 55,grosor: 2 },
      { x: 339, y: 397, angulo: Math.PI /10, largo: 8,grosor: 2 },
      { x: 344, y: 404, angulo: Math.PI /1.9, largo: 13,grosor: 2 },
      { x: 354, y: 413, angulo: Math.PI /10, largo: 22,grosor: 2 },
      { x: 364, y: 419, angulo: Math.PI /1.9, largo: 5,grosor: 2 },
      { x: 354, y: 421, angulo: Math.PI /0, largo: 20,grosor: 2 },
      { x: 345, y: 432, angulo: Math.PI /2, largo: 22,grosor: 2 },
      { x: 350, y: 447, angulo: Math.PI /4, largo: 15,grosor: 2 },
      { x: 350, y: 455, angulo: Math.PI /1.1, largo: 15,grosor: 2 },
      { x: 350, y: 463, angulo: Math.PI /4, largo: 15,grosor: 2 },
      { x: 350, y: 470, angulo: Math.PI /1.2, largo: 10,grosor: 2 },
      { x: 350, y: 480, angulo: Math.PI /2.8, largo: 20,grosor: 2 },
      { x: 352, y: 498, angulo: Math.PI /1.8, largo: 20,grosor: 2 },
      { x: 343, y: 514, angulo: Math.PI /1.3, largo: 20,grosor: 2 },
      { x: 335, y: 518, angulo: Math.PI /2, largo: 4,grosor: 2 },
      //lineas de milpa alta
      { x: 198, y: 502, angulo: Math.PI /4, largo: 25,grosor: 2 },
      { x: 194, y: 485, angulo: Math.PI /1.5, largo: 20,grosor: 2 },
      { x: 199, y: 469, angulo: Math.PI /2, largo: 15,grosor: 2 },
      { x: 206, y: 466, angulo: Math.PI /6, largo: 15,grosor: 2 },
      { x: 223, y: 450, angulo: Math.PI /1.5, largo: 45,grosor: 2 },
      { x: 258, y: 424, angulo: Math.PI /1.1, largo: 50,grosor: 2 },
      { x: 304, y: 417, angulo: Math.PI /0, largo: 45,grosor: 2 },
      { x: 335, y: 420.5, angulo: Math.PI /8, largo: 19,grosor: 2 },
      //lineas de xochimilco
      { x: 302, y: 407, angulo: Math.PI /1.4, largo: 27,grosor: 2 },
      { x: 284, y: 384, angulo: Math.PI /7, largo: 60,grosor: 2 },
      { x: 248, y: 361, angulo: Math.PI /4, largo: 30,grosor: 2 },
      { x: 237, y: 358, angulo: Math.PI /2, largo: 18,grosor: 2 },
      { x: 221, y: 372, angulo: Math.PI /1.1, largo: 35,grosor: 2 },
      { x: 205, y: 389, angulo: Math.PI /2, largo: 25,grosor: 2 },
      { x: 201, y: 410, angulo: Math.PI /1.6, largo: 22,grosor: 2 },
      { x: 206, y: 425, angulo: Math.PI /8, largo: 21,grosor: 2 },
      { x: 215, y: 445, angulo: Math.PI /2, largo: 35,grosor: 2 },
      //lineas de tlalpan
      { x: 220, y:364, angulo: Math.PI /10, largo: 25,grosor: 2 },
      { x: 201, y:362, angulo: Math.PI /1.1, largo: 15,grosor: 2 },
      { x: 174, y:364, angulo: Math.PI /0, largo: 40,grosor: 2 },
      { x: 146, y:361, angulo: Math.PI /10, largo: 17,grosor: 2 },
      { x: 128, y:374, angulo: Math.PI /1.5, largo: 38,grosor: 2 },
      { x: 120, y:395, angulo: Math.PI /2.2, largo: 10,grosor: 2 },
      { x: 118, y:406, angulo: Math.PI /1.6, largo: 15,grosor: 2 },
      { x: 106, y:420, angulo: Math.PI /1.3, largo: 25,grosor: 2 },
      { x: 82, y:423, angulo: Math.PI /10, largo: 33,grosor: 2 },
      //lineas Tlahuac
      { x: 267, y:371, angulo: Math.PI /1.4, largo: 7,grosor: 2 },
      { x: 267, y:363, angulo: Math.PI /3, largo: 12,grosor: 2 },
      { x: 288, y:351, angulo: Math.PI /1.1, largo: 50,grosor: 2 },
      { x: 331, y:344, angulo: Math.PI /0, largo: 38,grosor: 2 },
      //lineas Iztapalapa
      { x: 227, y:338, angulo: Math.PI /3.5, largo: 33,grosor: 2 },
      { x: 211, y:325, angulo: Math.PI /0, largo: 13,grosor: 2 },
      { x: 206, y:317, angulo: Math.PI /1.8, largo: 15,grosor: 2 },
      { x: 212, y:310, angulo: Math.PI /0, largo: 11,grosor: 2 },
      { x: 228, y:308, angulo: Math.PI /0, largo: 21,grosor: 2 },
      { x: 242, y:304, angulo: Math.PI /1.3, largo: 10,grosor: 2 },
      { x: 254, y:304, angulo: Math.PI /8, largo: 20,grosor: 2 },
      { x: 265, y:301, angulo: Math.PI /1.7, largo: 16,grosor: 2 },
      //lineas Iztacalco
      { x: 209, y:301, angulo: Math.PI /1.8, largo: 17,grosor: 2 },
      { x: 230, y:290, angulo: Math.PI /-30, largo: 40,grosor: 2 },
      { x: 254, y:283, angulo: Math.PI /1.4, largo: 15,grosor: 2 },
      { x: 266, y:278, angulo: Math.PI /0, largo: 16,grosor: 2 },
      //Lineas Venustiano Carranza
      { x: 215, y:273, angulo: Math.PI /1.8, largo: 38,grosor: 2 },
      { x: 245, y:258, angulo: Math.PI /40, largo: 55,grosor: 2 },
      //Lineas Gustavo A Madero
      { x: 208, y:253, angulo: Math.PI /-1.1, largo: 20,grosor: 2 },
      { x: 193, y:236, angulo: Math.PI /2.7, largo: 30,grosor: 2 },
      //Lineas Azcapotzalco
      { x: 192, y:252, angulo: Math.PI /-14, largo: 17,grosor: 2 },
      { x: 173, y:254, angulo: Math.PI /1, largo: 22,grosor: 2 },
      { x: 162, y:251, angulo: Math.PI /2, largo: 8,grosor: 2 },
      { x: 156, y:248, angulo: Math.PI /1, largo: 13,grosor: 2 },
      //Lineas Cuauhtemoc
      { x: 178, y:272, angulo: Math.PI /-2.8, largo: 40,grosor: 2 },
      { x: 173, y:293, angulo: Math.PI /5, largo: 10,grosor: 2 },
      { x: 184, y:294, angulo: Math.PI /1.1, largo: 15,grosor: 2 },
      { x: 200, y:292, angulo: Math.PI /0, largo: 20,grosor: 2 },
      //Lineas Benito Juarez
      { x: 170, y:298, angulo: Math.PI /1.1, largo: 12,grosor: 2 },
      { x: 164, y:310, angulo: Math.PI /-2.1, largo: 22,grosor: 2 },
      { x: 170, y:323, angulo: Math.PI /10, largo: 15,grosor: 2 },
      { x: 190, y:325, angulo: Math.PI /0, largo: 30,grosor: 2 },
      //Coyoacan
      { x: 168, y:335, angulo: Math.PI /-4, largo: 27,grosor: 2 },
      { x: 159.5, y:353, angulo: Math.PI /2, largo: 22,grosor: 2 },
      //Lineas Miguel Hidalgo
      { x: 162, y:296, angulo: Math.PI /3, largo: 10,grosor: 2 },
      { x: 138, y:298, angulo: Math.PI /1.1, largo: 45,grosor: 2 },
      { x: 113, y:298, angulo: Math.PI /3, largo: 15,grosor: 2 },
      //Lineas Alvaro Obregon y Cuajimalpa
      { x: 110, y:310, angulo: Math.PI /1.25, largo: 20,grosor: 2 },
      { x: 105, y:325, angulo: Math.PI /2.5, largo: 20,grosor: 2 },
      { x: 87, y:352, angulo: Math.PI /1.27, largo: 55,grosor: 2 },
      { x: 66, y:375, angulo: Math.PI /2, largo: 15,grosor: 2 },
      { x: 62, y:387, angulo: Math.PI /1.4, largo: 12,grosor: 2 },
      { x: 59, y:402, angulo: Math.PI /2, largo: 20,grosor: 2 },
      //Lineas Alvaro y Magdalena
      { x: 65, y:405, angulo: Math.PI /1.8, largo: 15,grosor: 2 },
      { x: 71, y:398, angulo: Math.PI /0, largo: 10,grosor: 2 },
      { x: 88, y:383, angulo: Math.PI /1.4, largo: 40,grosor: 2 },
      { x: 100, y:363, angulo: Math.PI /2, largo: 8,grosor: 2 },
      { x: 107, y:353, angulo: Math.PI /1.3, largo: 20,grosor: 2 },
      { x: 122, y:346, angulo: Math.PI /0, largo: 15,grosor: 2 },
      { x: 138.5, y:341.2, angulo: Math.PI /1.18, largo: 20,grosor: 2 },
      { x: 143, y:346, angulo: Math.PI /1.6, largo: 17,grosor: 2 },
      { x: 140, y:355, angulo: Math.PI /2, largo: 6,grosor: 2 },
    ];

    function retornarLienzo(x) {
      var canvas = document.getElementById(x);
      if (canvas.getContext) {
        lienzo = canvas.getContext("2d");
        return lienzo;
      } else {
        return false;
      }
    }

    function dibujarBigote(x, y, angulo, largo, grosor) {
      lienzo.strokeStyle = "black";
      lienzo.lineWidth = grosor;
      lienzo.save();
      lienzo.translate(x, y);
      lienzo.rotate(angulo);
      lienzo.beginPath();
      lienzo.moveTo(-largo / 2, 0);
      lienzo.lineTo(largo / 2, 0);
      lienzo.stroke();
      lienzo.restore();
    }

    function dibujar() {
      lienzo = retornarLienzo("lienzo1");
      if (lienzo) {
        var img1 = new Image(); 
        img1.src = 'https://www.lamudi.com.mx/journal/wp-content/uploads/2022/02/Ciudad-de-Mexico-1.jpg';
        img1.onload = function() {
          lienzo.drawImage(img1, 0, 150, 400, 400);

          // Dibujar los bigotes con los parámetros definidos
          for (var i = 0; i < bigotes.length; i++) {
            var bigote = bigotes[i];
            dibujarBigote(bigote.x, bigote.y, bigote.angulo, bigote.largo, bigote.grosor);
          }
        };
      }
    }

    window.onload = function() {
      dibujar();
    };
  </script>
</head>
<body>
  <canvas id="lienzo1" width="600" height="600">
    Su navegador no permite utilizar canvas.
  </canvas>
</body>
</html>

